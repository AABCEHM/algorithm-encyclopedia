# CONTRIBUTING.md

## 編集方法について

### 記事を修正する

軽微なものならプルリクエストを送ってください。
簡単には修正できないものなら issue を立ててください。
それぞれページの右下の「Edit this page」「Report issues」というリンクを使うと便利です。


### 記事を追加する (概要のみ)

[トップページ](https://kmyk.github.io/algorithm-encyclopedia/) の目次にのみ項目を追加する場合は以下のようにします。 
1.  [_entries/](https://github.com/kmyk/algorithm-encyclopedia/tree/gh-pages/_entries) ディレクトリの中に Markdown ファイルを追加する
    -   他の概要のみのページのためのファイルをコピペしてくればよい
1.  追加した Markdown ファイルを編集する。
1.  プルリクエストを送る。


### 記事を追加する (本文含む)

個別の記事ページ ([例](https://kmyk.github.io/algorithm-encyclopedia/monotone-minima)) を追加する場合は以下のようにします。

1.  上記の「記事を追加する (概要のみ)」と同様にして、トップページの目次に項目を追加する。
1.  対応する項目の Markdown ファイルに本文を追加する。
1.  プルリクエストを送る。


### メタデータの仕様

[front matter](http://jekyllrb-ja.github.io/docs/front-matter/) に書くべき情報は以下の通りです。

-   `layout`: 常に `entry`
-   `author`: その記事を書いた人の名前 (AtCoder ID)
-   `reviewers` (空欄可): その記事をレビューした人たちの名前 (AtCoder ID)
-   `date`: その記事を初めて書いた日時 ([ISO 8691](https://ja.wikipedia.org/wiki/ISO_8601) で秒まで) (例: `2020-07-09T00:00:00+09:00`)。`$ date --iso-8601=seconds` を実行するとよい。時間や分や秒は適当でも (たとえばすべて 0 でも) 構わない。
-   `updated_at` (空欄可): その記事を最後に修正した日時 ([ISO 8691](https://ja.wikipedia.org/wiki/ISO_8601) で秒まで)
-   `tags` (空欄可): タグの列
-   `algorithm` (空欄可): アルゴリズムについての概要
    -   `input` (空欄可): アルゴリズムへの入力
    -   `output` (空欄可): アルゴリズムからの出力
    -   `time_complexity` (空欄可): アルゴリズムの時間計算量
    -   `space_complexity` (空欄可): アルゴリズムの空間計算量
    -   `aliases` (空欄可): アルゴリズムの別名の列
    -   `level` (空欄可): アルゴリズムの知名度。難しさは判定しにくいので有名さ (競プロでどのくらいよく使われるか) を使う。「この色の人ならみんな知っていそうだな (主観)」という色を書く。赤でも知らなさそうなものは黒 (`black`) とする。
-   `description`: アルゴリズムの概要。「（ここにアルゴリズムの名前が入る）とは、（ここにアルゴリズムの概要が入る）というアルゴリズムである。」という形の文から初めて数文ぐらいで書くのがよい。KaTeX は使用可。HTML も使用可だがあまり推奨されない。
-   `draft` (省略可): これが `true` であるとトップページから記事ページへのリンクが貼られない。
-   `draft_urls` (省略可): 記事の本文の代わりになるリンク (複数可)


### ローカルでの記事の閲覧

ローカルで記事を閲覧するには、以下のコマンドを順に実行してください。HTTP サーバが建ち <http://127.0.0.1:4000/> から閲覧できます。

``` console
$ git clone https://github.com/kmyk/algorithm-encyclopedia
$ cd algorithm-encyclopedia
$ sudo apt install ruby-all-dev ruby-bundler
$ bundle install --path .vendor/bundle
$ bundle exec jekyll serve --incremental
```


### ローカルでのテストの実行

GitHub Actions を利用して、典型的なミスが機械的に検出されるよう設定されています。
このテストをローカルで実行するには、[nektos/act](https://github.com/nektos/act) をインストールして `$ act` と実行してください。


### 複製の公開

このリポジトリの fork を作ったあと、そのリポジトリで GitHub Pages を有効にしてください ([GitHub Pages サイトの公開元を設定する - GitHub Docs](https://docs.github.com/ja/github/working-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site))。fork では自動的には GitHub Pages が有効にならないことに注意してください。
実際に公開した例は <https://kmyk.github.io/algorithm-encyclopedia-staging/> にあります。

通常の GitHub 上では Markdown ファイル中の数式をプレビューできないという問題があるため、プルリクエストを出す際にはこのような複製を準備して完全な形のものを閲覧できるようにしておくとスムーズでしょう。

なお、GitHub Pages に公開された複製からは自動で <https://dic.kimiyuki.net/> へのリダイレクトが発生するようになっています。
これは、本体のリポジトリの GitHub Pages とテスト用の複製の GitHub Pages との間での、どれが本体なのか分からないという混乱の発生を防ぐための措置です。
本体のリポジトリへリダイレクトされない完全な fork を作りたいときは、`_config.yml` や `CNAME` を編集することでこの挙動を修正できます。


## 記事の内容について

### 何について語っているかを明確にする

あなたが説明しようとしているものが何であるかについて、明確に説明してください。
たとえばそれが「あるひとつの具体的なアルゴリズム」であるのか「ある性質を満たすアルゴリズムの総称」であるのか「何らかの形の問題」であるのかについて自覚的に書いてください。

可能なら厳密な特徴付けを与えてください。
性質や利用方法や具体例は定義ではありません。
「条件 P を満たすものは A である」という説明では A を説明したことにはなりません。
「条件 Q を満たすものは A であり、条件 Q を満たさないものは A ではない」ということまで説明する必要があります。
すべてのアルゴリズムとデータ構造について、明確にそれが何であるかを特徴付けられるとは限りませんが、できる限り説明するようにしてください。具体例をいくつか列挙するだけにして正確なところは読者が察するのを期待するという書き方は避けてください。

たとえば「阪本さんとは誰ですか？」と聞かれたとき、どのように答えるのがよいでしょうか？
「かわいいです」とか「関西弁を話します」というのは答えになっていません。
「黒いねこです」という答えも不十分です。
黒いねこであることは坂本さんの代表的な性質のひとつかもしれませんが、黒いねこは坂本さんではありません。
「○○研究所で飼われているある黒猫です」のように個体を特定して答える必要があります。

たとえば「累積和とは何ですか？」と聞かれたときも同様です。
「配列上の区間の総和を求めることができます」というのは累積和の利用例のひとつでしかなく、累積和そのものの説明ではありません。
累積和を利用する問題をひとつ選んで例として紹介して「累積和はこのように使います」とするのでも同じです。まずは「a を数列とするとき、a に対する累積和とは、bᵢ = a₀ + a₁ + ⋯ + aᵢ₋₁ で定まるような数列 b のことである」のように説明してください。利用方法や具体例は定義ではありません。もちろん、その後に利用方法を説明する必要はありますし、具体例を挙げることは理解を助けるでしょう。


### それが何をするのかを明確にする

あなたが説明しようとしているものが何をするのかについて、明確に説明してください。
アルゴリズムについて説明する時は、そのアルゴリズムが「どのような問題を解くのか」を宣言してください。
あるいは「入力」「出力」「計算量」を明示してください。


### 他の事柄との関係を明確にする

あなたが説明しようとしているものが他のものとどのように関連しているかについて、説明を与えてください。
「関連項目」などの節を作り、その中に列挙するのでもよいでしょう。


### 意見を書くときはそれが誰の意見なのかを明確にする

事実と意見は区別してください。広く共有されているわけではない主観的な意見を書くときは、それが誰の意見なのかを明確にしてください。
特になにか過激な意見を主張したいときは、その意見はひとまず自分のブログに書き、「外部リンク」などの節の中から参照するのがよいでしょう。


### 他: 管理コストを下げる

-   他の記事に書かれた細部に直接依存することは避ける。記事同士を疎結合に保ち、ある記事の編集が他の記事に影響しないようにする。
-   リンクを張るときはリンク先の永続性に注意する。特に他人の競プロライブラリへのリンクを貼るときは [Internet Archive](https://archive.org/web/) などによるスナップショットを取っておく。
-   リンクを張るときはリンク先との関係が分かるようにする。例題を紹介するならば簡単な解説を書いておく。記事を紹介するならばなぜ他の記事でなくその記事が選ばれているのか分かるようにしておく。
-   ソースコードはそのままコピペして動くものを載せる。ソースコードの妥当性は簡単に検証できるようにしておく。


## ライセンスについて

書かれたページは Creative Commons Attribution 4.0 International License で公開されます。
